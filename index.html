<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta charset="utf-8">
    <title>Space travel</title>
    <style>
        html, body {
        margin: 0;
        height: 100%;
        }
        
        #c {
        width: 100%;
        height: 100%;
        display: block;
        }
        #hud {
          position: fixed;
          top: 12px;
          left: 12px;
          padding: 10px 12px;
          background: rgba(0,0,0,0.55);
          color: #fff;
          font-family: system-ui, sans-serif;
          font-size: 12px;
          line-height: 1.4;
          border-radius: 8px;
          pointer-events: none; /* don’t block keyboard/mouse */
          backdrop-filter: blur(4px);
        }
        #hud b { font-weight: 600; }
        #hud select { pointer-events: auto; }
        #minimap-container {
          position: fixed;
          bottom: 20px;
          right: 20px;
          width: 200px;
          height: 200px;
          border: 2px solid rgba(255,255,255,0.6);
          background: rgba(0,0,0,0.5);
          border-radius: 8px;
          overflow: hidden;
        }
        #minimap {
          width: 100%;
          height: 100%;
          display: block;
        }
        :root {
          --gap: 20px;
          --minimap: 200px;
        }

        #controls {
          position: fixed;
          bottom: var(--gap);
          right: calc(var(--gap) + var(--minimap) + var(--gap)); /* sits left of the minimap */
          z-index: 10;
          display: grid;
          grid-auto-flow: column;
          gap: 10px;
          padding: 10px;
          background: rgba(0,0,0,0.55);
          backdrop-filter: blur(4px);
          border: 1px solid rgba(255,255,255,0.25);
          border-radius: 10px;
          pointer-events: auto;
          font-family: system-ui, sans-serif;
        }

        #controls .pad {
          display: grid;
          grid-template-columns: repeat(3, 44px);
          grid-template-rows: repeat(2, 44px);
          gap: 8px 8px;
          align-items: center;
          justify-items: center;
        }

        #controls .vertical {
          display: grid;
          gap: 8px;
          align-items: center;
          justify-items: center;
        }

        .ctrl-btn {
          width: 44px;
          height: 44px;
          border-radius: 8px;
          border: 1px solid rgba(255,255,255,0.25);
          background: rgba(255,255,255,0.09);
          color: #fff;
          font-size: 18px;
          line-height: 1;
          cursor: pointer;
          touch-action: none; /* smoother pointer events on mobile */
        }
        .ctrl-btn:hover { background: rgba(255,255,255,0.15); }
        .ctrl-btn.active { background: rgba(80,160,255,0.35); }

        #btn-accel { grid-column: 2; grid-row: 1; }
        #btn-left  { grid-column: 1; grid-row: 2; }
        #btn-brake { grid-column: 2; grid-row: 2; }
        #btn-right { grid-column: 3; grid-row: 2; }

        /* Small screens: stack above the minimap */
        @media (max-width: 640px) {
          #controls {
            right: var(--gap);
            bottom: calc(var(--gap) + var(--minimap) + var(--gap));
          }
        }

    </style>
  </head>
  <body>
    <script type="module" src="/audio-manager.js"></script>
    <script type="module" src="/audio-trigger.js"></script>
    <script type="module" src="/main.js"></script>
    <canvas id="c" tabindex="0"></canvas>
    <div id="hud">
      <div><b>Speed:</b> <span id="hud-speed">0</span> km/s</div>
      <div><b>Dist. to Sun:</b> <span id="hud-dist">0</span> kkm</div>
      <div><b>Dist. to Mars:</b> <span id="hud-dist-mars">0</span> kkm</div>
      <div><b>Dist. to Mercury:</b> <span id="hud-dist-mercury">0</span> kkm</div>
      <div><b>Dist. to Earth Moon:</b> <span id="hud-dist-earth-moon">0</span> kkm</div>
      <label for="solar-body">Choose a celestial body:</label>
      <select id="solar-body" name="solar-body" required>
        <option value="" disabled selected>Select a body…</option>
        <option value="sun">Sun</option>
        <option value="mercury">Mercury</option>
        <option value="venus">Venus</option>
        <option value="earth" >Earth</option>
        <option value="mars">Mars</option>
        <option value="jupiter" >Jupiter</option>
        <option value="saturn" >Saturn</option>
        <option value="uranus" >Uranus</option>
        <option value="neptune" >Neptune</option>
      </select>
    </div>
    <div id="minimap-container">
      <canvas id="minimap"></canvas>
    </div>
    <div id="controls" aria-label="Flight controls">
      <div class="pad" aria-label="Yaw/Throttle">
        <button id="btn-accel" class="ctrl-btn" title="Accelerate (W / ↑)">W ↑</button>
        <button id="btn-left"  class="ctrl-btn" title="Yaw Left (A / ←)">A ←</button>
        <button id="btn-brake" class="ctrl-btn" title="Brake (S / ↓)">S ↓</button>
        <button id="btn-right" class="ctrl-btn" title="Yaw Right (D / →)">D →</button>
      </div>
      <div class="vertical" aria-label="Vertical/Stop">
        <button id="btn-up"   class="ctrl-btn" title="Ascend (R)">R ⯅</button>
        <button id="btn-down" class="ctrl-btn" title="Descend (F)">⯆ F</button>
        <button id="btn-stop" class="ctrl-btn" title="Emergency Stop">⏹</button>
      </div>
    </div>

  </body>
</html>